import { ethers } from "hardhat";

async function main(swiftAddr: string) {
	const Swift = await ethers.getContractFactory("MayanSwift");
	console.log({ swiftAddr })
	const swift = await Swift.attach(swiftAddr);

    // const orderBefore = await swift.getOrder('0xa2daa51feaa0f1dd450bda072ec8189a35df90050b694a0c0f8ac31afbb1cb5e');
    // console.log({orderBefore});

	const vaa = "0x01000000030d001aa3c823d58c09220e3691f38453c645e5ad8649dc4f487031c8eb6c3b26754611e306a7febaebf804e2167ee4469c379f6b2dfe53eeccfa5acae7ca67fd9dff00020cdb333250f02aa26ab78a8cf9053d02aed8a25224674e5809b1982d140e46b425b58d83a2d288c2123869918c4a76679da97425761ff4bada13fa26d3dc65b500032bf4374509b5191bac2eee2f0c7298b48d7bf55881a6cee87995755a6754b612353896820107b37832cd3775a97f75155185c10e1dec501a55c55e795dafffd70006b7b92fbee41bc63d6b939171ee8579dd4d1e4424a3e31c6bc9319ce103b3483d307499e4f88e9a85abb9cd0a151b86f2e5560375598a9f9c163e6b59755217c80007872765ed5b51999392132245f8dea2588c475dcf268714ca6ce85c4fa0855c2f2872cd453e3bbcd67d92de30db807949bdb67ed2d0ba1197234dde5a72f9a7240009a21fafbae4c88c2527f17ce1b90793489758a1bb0e40a78ef029c9610a00fab51649d1cb2178c9ca6ee484fc168f317a9a1d93dec581557a131f0109747a6cce010a50a233b14c51feb9267dfbb007a7a983b0faf5f85e48954fd942cc81e16dd5072b2307a07491f1bc5141666bd65d90f3aa4aef91bdf01b018fca81c04083dfaf010b64187bc4b426403e06b05ac9fcfcb22449c8214bda5104a6def57386427f012250e3d1b66b325a193119c2ebfc703ad335de93483c21afca9675ed09870b7df2000cfc4042203451d0383a840ad947b242a885403783a2224a391aa3c683ede685041fab272030b23a371b1412217da75dcd2244fc207ac64df230f9645bbbd19252010d707d6aa31a6184ad320a0513c01351483227c7b57d36be261e5b92e467eca6be4066667edd298e2747fa76c73d206c913c4d81d1bf590ffd21a94c6da579c02f010e7ba0429c44d2acc11484c0c3682bd60f9073a553d1b7d2f803562a3c3ce04869781e065b0a75fc19bf22f71afe1636c35eff4663d05ff06b2dd5a464c22e3e890010a9b09091aa738eab2317f4c009605f2d3857d5275e15e5985039976a0c82ffdd393333cc093156b82894cf3467420587ce6391b3c97fef4143b1ce56679803950111d417223bdbbd9b79e2455ae6874c8b7460c6b6954666a4aff8de59897e633e814b7f751b0c1ceef5fe9b8d261a4eafad0fd0455a6896ba0755bae6bdd78f6a380165186ebd000000000004000000000000000000000000c82cd0b3b5e0f05ef026e929063c7f272156ecc100000000000000040f02f62bf45c2aaa81a55e57fb34789e25d25e98cf4b89da11e806c4bc61dd8d95e30005000000000000000000000000000000000000000000000000000000000000000000000000000000d00000000000000000000000005acf4e865604ab620fb84acc047b990f2d2856fd";
	const tx = await swift.unlockOrder(vaa);
	const receipt = await tx.wait();
	console.log({ receipt });

	// const orderAfter = await swift.getOrder('0xa2daa51feaa0f1dd450bda072ec8189a35df90050b694a0c0f8ac31afbb1cb5e');
    // console.log({orderAfter});
}

main(process.env.SWIFT_ADDR).catch((error) => {
	console.error(error);
	process.exitCode = 1;
});